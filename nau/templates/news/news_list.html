{% extends "base.html" %}
{% block title %}News{% endblock %}

{% block content %}
<div class="staff__image-container position-relative main__header-container">
    {% if config.header_image %}
    <img src="{{ config.header_image.url }}" alt="News Header" class="img-fluid w-100">
    {% endif %}
    <div class="main__header-overlay"></div>
    <div class="main__header-text">
        <p>{{ config.name }}</p>
    </div>
</div>

<div class="news__section">

    <div class="news__columns">
        <div class="news__block">
            <h2 class="news__heading">Latest News</h2>
            <div class="news__items">
                {% for news in latest_news %}
                <div class="news__card">
                    <div class="news__image-container">
                        {% if news.image %}
                            {% if news.link %}
                                <a href="{{ news.link }}" target="_blank">
                            {% else %}
                                <a href="{% url 'detail' news.id %}">
                            {% endif %}
                                    <img src="{{ news.image.url }}" alt="{{ news.name }}" class="news__image">
                                </a>
                        {% endif %}
                    </div>
                    <div class="news__content">
                        <h4 class="news__title">
                            {% if news.link %}
                                <a href="{{ news.link }}" target="_blank">{{ news.name }}</a>
                            {% else %}
                                <a href="{% url 'detail' news.id %}">{{ news.name }}</a>
                            {% endif %}
                        </h4>
                        <p class="news__text">{{ news.title }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Upcoming News -->
        <div class="news__block">
            <h2 class="news__heading">Upcoming News</h2>
            <div class="news__items">
                {% for news in upcoming_news %}
                <div class="news__card">
                    <div class="news__image-container">
                        {% if news.image %}
                            {% if news.link %}
                                <a href="{{ news.link }}" target="_blank">
                            {% else %}
                                <a href="{% url 'detail' news.id %}">
                            {% endif %}
                                    <img src="{{ news.image.url }}" alt="{{ news.name }}" class="news__image">
                                </a>
                        {% endif %}
                    </div>
                    <div class="news__content">
                        <h4 class="news__title">
                            {% if news.link %}
                                <a href="{{ news.link }}" target="_blank">{{ news.name }}</a>
                            {% else %}
                                <a href="{% url 'detail' news.id %}">{{ news.name }}</a>
                            {% endif %}
                        </h4>
                        <p class="news__text">{{ news.title }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

